<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>100 Days of Code - Day 6</title>
    <meta name="Description" content="Day 6!">
    <link rel="stylesheet" href="/blog/css/index.css">
    <link rel="stylesheet" href="/blog/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/blog/feed/feed.xml" type="application/atom+xml" title="Dev Blog">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/blog/">Dev Blog</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/blog/">Home</a></li>
        <li class="nav-item"><a href="/blog/posts/">Archive</a></li>
        <li class="nav-item"><a href="/blog/about/">About Me</a></li>
      </ul>
    </header>

    <main class="tmpl-post">

      <h1>100 Days of Code - Day 6</h1>

<h3 id="day-5%3A-may-16%2C-2020">Day 5: May 16, 2020 <a class="direct-link" href="#day-5%3A-may-16%2C-2020">#</a></h3>
<h4 id="today's-progress">Today's Progress <a class="direct-link" href="#today's-progress">#</a></h4>
<p>Today I scratched the surface of monads in <a href="https://frontendmasters.com/courses/functional-javascript-v3">Functional-Light JavaScript</a>.</p>
<h4 id="thoughts">Thoughts <a class="direct-link" href="#thoughts">#</a></h4>
<p>Yesterday was the first day I failed to code and tweet my progress. I still coded but need to work on staying consistent, even if the progress is slow and steady.</p>
<p>I really like the core principles of functional programming, and I'm excited to use them more in my day-to-day. Monads are still relatively abstract, so I'm hoping to see examples of when they are a good option to use.</p>
<h4 id="work-examples">Work examples <a class="direct-link" href="#work-examples">#</a></h4>
<h5 id="monads">Monads <a class="direct-link" href="#monads">#</a></h5>
<p>Monads are a functional programming data structure. In formal terms, a monad is a pattern for pairing data with a set of predictable behaviors that let it interact with other data+ behavior pairings (monads).</p>
<p>Monads utility comes from being able to work with a specific data value in a manner that has predictable behavior.</p>
<p>A basic monad example is the <code>Just</code> monad:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">{</span> map<span class="token punctuation">,</span> chain<span class="token punctuation">,</span> ap <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// three core methods on all monads</span><br><br>  <span class="token comment">// makes another monad (like a regular array map function)</span><br>  <span class="token comment">// makes the same kind of monad -- like array maps make arrays</span><br>  <span class="token keyword">function</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token comment">// aka: bind, flatMap</span><br>  <span class="token comment">// like mapping a monad, getting a monad,</span><br>  <span class="token comment">// and then flattening the value from the monad</span><br>  <span class="token keyword">function</span> <span class="token function">chain</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token comment">// implies our value has to be a function in order to use this</span><br>  <span class="token keyword">function</span> <span class="token function">ap</span><span class="token punctuation">(</span><span class="token parameter">anotherMonad</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> anotherMonad<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> fortyOne <span class="token operator">=</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token number">41</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// fortyTwo isn't the value 42, it's a monad wrapped around the value 42</span><br><span class="token comment">// map returns the same data value that we started with</span><br><span class="token keyword">var</span> fortyTwo <span class="token operator">=</span> fortyOne<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> v <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">function</span> <span class="token function">identity</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> v<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token comment">// technically, we shouldn't get the value back</span><br><span class="token comment">// it should return a monad</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fortyOne<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>identity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 41</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fortyTwo<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>identity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span><br><br><span class="token keyword">var</span> user1 <span class="token operator">=</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token string">'kyle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> user2 <span class="token operator">=</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token string">'Susan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> tuple <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">tuple</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">/*<br>  user1.map(tuple) returns a curried function with a monad wrapped around<br>  the string 'Kyle'.<br>  We then call ap on that monad and it calls map on the monad wrapping kyle.<br>  ap allows us to take one value from a monad, put it into a closure and then use that as the mapper function<br>  in the next monad.<br>*/</span><br><br><span class="token keyword">var</span> users <span class="token operator">=</span> user1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>tuple<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ap</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>identity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['Kyle', 'Susan]</span></code></pre>
<p>Maybe monad:</p>
<pre class="language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">arity<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">nextCurried</span><span class="token punctuation">(</span><span class="token parameter">prevArgs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">curried</span><span class="token punctuation">(</span><span class="token parameter">nextArg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> args <span class="token operator">=</span> prevArgs<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>nextArg<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">>=</span> arity<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token function">nextCurried</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">function</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">{</span> map<span class="token punctuation">,</span> chain<span class="token punctuation">,</span> ap <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// three core methods on all monads</span><br><br>  <span class="token comment">// makes another monad (like a regular array map function)</span><br>  <span class="token comment">// makes the same kind of monad -- like array maps make arrays</span><br>  <span class="token keyword">function</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token comment">// aka: bind, flatMap</span><br>  <span class="token comment">// like mappung a monad, getting a monad, and then flattening the value from the monad</span><br>  <span class="token keyword">function</span> <span class="token function">chain</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token comment">// implies our value has to be a function in order to use this</span><br>  <span class="token keyword">function</span> <span class="token function">ap</span><span class="token punctuation">(</span><span class="token parameter">anotherMonad</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> anotherMonad<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> fortyOne <span class="token operator">=</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token number">41</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// fortyTwo isn't the value 42, it's a monad wrapped around the value 42</span><br><span class="token comment">// map returns the same data value that we started with</span><br><span class="token keyword">var</span> fortyTwo <span class="token operator">=</span> fortyOne<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> v <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">function</span> <span class="token function">identity</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> v<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token comment">// technically, we shouldn't get the value back</span><br><span class="token comment">// it should return a monad</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fortyOne<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>identity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 41</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fortyTwo<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>identity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span><br><br><span class="token keyword">var</span> user1 <span class="token operator">=</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token string">'kyle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> user2 <span class="token operator">=</span> <span class="token function">Just</span><span class="token punctuation">(</span><span class="token string">'Susan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> tuple <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">tuple</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">/*<br>  user1.map(tuple) returns a curried function with a monad wrapped around <br>  the string 'Kyle'.<br>  We then call ap on that monad and it calls map on the monad wrapping kyle.<br>  ap allows us to take one value from a monad, put it into a closure and then use that as the mapper function<br>  in the next monad.<br>*/</span><br><br><span class="token keyword">var</span> users <span class="token operator">=</span> user1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>tuple<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ap</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span>identity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['Kyle', 'Susan]</span><br><br><span class="token comment">// --------------------maybe monad---------------------------------------------</span><br><span class="token keyword">var</span> someObj <span class="token operator">=</span> <span class="token punctuation">{</span><br>  something<span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token keyword">else</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      entirely<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token comment">// we can't ever get anything from Nothing</span><br><span class="token comment">// useful if we don't want something to occur</span><br><span class="token comment">// like if a property is missing</span><br><br><span class="token keyword">function</span> <span class="token function">Nothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">{</span> map<span class="token operator">:</span> Nothing<span class="token punctuation">,</span> chain<span class="token operator">:</span> Nothing<span class="token punctuation">,</span> ap<span class="token operator">:</span> Nothing<span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token keyword">var</span> Maybe <span class="token operator">=</span> <span class="token punctuation">{</span> Just<span class="token punctuation">,</span> Nothing<span class="token punctuation">,</span> <span class="token keyword">of</span><span class="token operator">:</span> Just<span class="token punctuation">}</span><br><br><span class="token comment">// if given null or undefined (because of the ==)</span><br><span class="token comment">// we get a Nothing monad</span><br><span class="token comment">// or, we get a Just monad</span><br><span class="token keyword">function</span> <span class="token function">fromNullable</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>  <span class="token keyword">if</span><span class="token punctuation">(</span>val <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> Maybe<span class="token punctuation">.</span><span class="token function">Nothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">else</span> <span class="token keyword">return</span> Maybe<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><span class="token comment">// if we call this on a random object, property, we'll either get a</span><br><span class="token comment">// Nothing monad, or a Just monad wrapping that property value</span><br><span class="token keyword">var</span> prop <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">prop</span><span class="token punctuation">(</span><span class="token parameter">prop<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token function">fromNullable</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><br><br>Maybe<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span> someObj <span class="token punctuation">)</span> <span class="token comment">// makes a Just monad of someObj</span><br><span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span> <span class="token function">prop</span><span class="token punctuation">(</span> <span class="token string">'something'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// returns a curried function waiting</span><br><span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span> <span class="token function">prop</span><span class="token punctuation">(</span> <span class="token string">'else '</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// we can keep calling this because we know we'll either get a Nothing or Just monad</span><br><span class="token punctuation">.</span><span class="token function">chain</span><span class="token punctuation">(</span> <span class="token function">prop</span><span class="token punctuation">(</span> <span class="token string">'something'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span></code></pre>


<p><a href="/blog/">← Home</a></p>

    </main>

    <footer></footer>

    <!-- Current page: /blog/posts/may-18-20/ -->
  </body>
</html>
